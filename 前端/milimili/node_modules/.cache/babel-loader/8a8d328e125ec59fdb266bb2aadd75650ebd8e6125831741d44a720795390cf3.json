{"ast":null,"code":"import NavigateView from '../components/NavigateView.vue';\nimport MainView from '../components/MainView.vue';\nexport default {\n  name: 'App',\n  components: {\n    NavigateView,\n    MainView\n  },\n  data() {\n    return {\n      isLogin: false,\n      user: {},\n      collection: []\n    };\n  },\n  watch: {\n    isLogin(newValue) {\n      if (newValue) {\n        this.getCollection();\n      }\n    }\n  },\n  methods: {\n    getCollection() {\n      fetch('https://kotokawa-akira-mywife.site/web/api/collection/getCollectionByUid/' + this.user.id, {\n        method: 'get'\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        this.collection = data;\n      });\n    },\n    getLoginInfo() {\n      fetch('https://kotokawa-akira-mywife.site/web/api/account/getLoginInfo', {\n        method: 'get',\n        credentials: 'include'\n      }).then(res => {\n        return res.json();\n      }).then(data => {\n        if (data.success === 'true') {\n          fetch('https://kotokawa-akira-mywife.site/web/api/account/selectOneById/' + data.uid, {\n            method: 'get'\n          }).then(res => {\n            return res.json();\n          }).then(data => {\n            this.user = data;\n            this.isLogin = true;\n          });\n        }\n      });\n    }\n  },\n  created() {\n    this.getLoginInfo();\n  }\n};","map":{"version":3,"names":["NavigateView","MainView","name","components","data","isLogin","user","collection","watch","newValue","getCollection","methods","fetch","id","method","then","res","json","getLoginInfo","credentials","success","uid","created"],"sources":["J:\\university 2.2\\SE\\大作业\\19-SE-Milimili\\前端\\milimili\\src\\views\\VideoView.vue"],"sourcesContent":["<template>\r\n  <NavigateView></NavigateView>\r\n  <MainView isLogin=true :user=\"user\" :collection=\"collection\"></MainView>\r\n</template>\r\n<script>\r\nimport NavigateView from '../components/NavigateView.vue'\r\nimport MainView from '../components/MainView.vue'\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    NavigateView,\r\n    MainView\r\n  },\r\n  data () {\r\n    return {\r\n      isLogin: false,\r\n      user: {},\r\n      collection: []\r\n    }\r\n  },\r\n  watch: {\r\n    isLogin (newValue) {\r\n      if (newValue) { this.getCollection() }\r\n    }\r\n  },\r\n  methods: {\r\n    getCollection () {\r\n      fetch('https://kotokawa-akira-mywife.site/web/api/collection/getCollectionByUid/' + this.user.id, { method: 'get' })\r\n        .then(res => {\r\n          return res.json()\r\n        }).then(data => {\r\n          this.collection = data\r\n        })\r\n    },\r\n    getLoginInfo () {\r\n      fetch('https://kotokawa-akira-mywife.site/web/api/account/getLoginInfo', { method: 'get', credentials: 'include' })\r\n        .then(res => {\r\n          return res.json()\r\n        }).then(data => {\r\n          if (data.success === 'true') {\r\n            fetch('https://kotokawa-akira-mywife.site/web/api/account/selectOneById/' + data.uid, { method: 'get' })\r\n              .then(res => {\r\n                return res.json()\r\n              }).then(data => {\r\n                this.user = data\r\n                this.isLogin = true\r\n              })\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getLoginInfo()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n:root {\r\n  --ava: #9AC8E2;\r\n  --line_regular: #E3E5E7;\r\n  --bg_regular: #F1F2F3;\r\n}\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\nimg {\r\n  display: block;\r\n}\r\n\r\na {\r\n  color: unset;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n"],"mappings":"AAKA,OAAOA,YAAW,MAAO,gCAA+B;AACxD,OAAOC,QAAO,MAAO,4BAA2B;AAChD,eAAe;EACbC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACVH,YAAY;IACZC;EACF,CAAC;EACDG,IAAGA,CAAA,EAAK;IACN,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,CAAC,CAAC;MACRC,UAAU,EAAE;IACd;EACF,CAAC;EACDC,KAAK,EAAE;IACLH,OAAMA,CAAGI,QAAQ,EAAE;MACjB,IAAIA,QAAQ,EAAE;QAAE,IAAI,CAACC,aAAa,CAAC;MAAE;IACvC;EACF,CAAC;EACDC,OAAO,EAAE;IACPD,aAAYA,CAAA,EAAK;MACfE,KAAK,CAAC,2EAA0E,GAAI,IAAI,CAACN,IAAI,CAACO,EAAE,EAAE;QAAEC,MAAM,EAAE;MAAM,CAAC,EAChHC,IAAI,CAACC,GAAE,IAAK;QACX,OAAOA,GAAG,CAACC,IAAI,CAAC;MAClB,CAAC,CAAC,CAACF,IAAI,CAACX,IAAG,IAAK;QACd,IAAI,CAACG,UAAS,GAAIH,IAAG;MACvB,CAAC;IACL,CAAC;IACDc,YAAWA,CAAA,EAAK;MACdN,KAAK,CAAC,iEAAiE,EAAE;QAAEE,MAAM,EAAE,KAAK;QAAEK,WAAW,EAAE;MAAU,CAAC,EAC/GJ,IAAI,CAACC,GAAE,IAAK;QACX,OAAOA,GAAG,CAACC,IAAI,CAAC;MAClB,CAAC,CAAC,CAACF,IAAI,CAACX,IAAG,IAAK;QACd,IAAIA,IAAI,CAACgB,OAAM,KAAM,MAAM,EAAE;UAC3BR,KAAK,CAAC,mEAAkE,GAAIR,IAAI,CAACiB,GAAG,EAAE;YAAEP,MAAM,EAAE;UAAM,CAAC,EACpGC,IAAI,CAACC,GAAE,IAAK;YACX,OAAOA,GAAG,CAACC,IAAI,CAAC;UAClB,CAAC,CAAC,CAACF,IAAI,CAACX,IAAG,IAAK;YACd,IAAI,CAACE,IAAG,GAAIF,IAAG;YACf,IAAI,CAACC,OAAM,GAAI,IAAG;UACpB,CAAC;QACL;MACF,CAAC;IACL;EACF,CAAC;EACDiB,OAAMA,CAAA,EAAK;IACT,IAAI,CAACJ,YAAY,CAAC;EACpB;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}
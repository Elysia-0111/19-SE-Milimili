{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_NavigateView = _resolveComponent(\"NavigateView\");\n  const _component_MainView = _resolveComponent(\"MainView\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_NavigateView), _createVNode(_component_MainView, {\n    isLogin: \"true\",\n    user: $data.user,\n    collection: $data.collection\n  }, null, 8 /* PROPS */, [\"user\", \"collection\"])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createVNode","_component_NavigateView","_component_MainView","isLogin","user","$data","collection"],"sources":["J:\\university 2.2\\SE\\大作业\\19-SE-Milimili\\前端\\milimili\\src\\views\\VideoView.vue"],"sourcesContent":["<template>\r\n  <NavigateView></NavigateView>\r\n  <MainView isLogin=true :user=\"user\" :collection=\"collection\"></MainView>\r\n</template>\r\n<script>\r\nimport NavigateView from '../components/NavigateView.vue'\r\nimport MainView from '../components/MainView.vue'\r\nexport default {\r\n  name: 'App',\r\n  components: {\r\n    NavigateView,\r\n    MainView\r\n  },\r\n  data () {\r\n    return {\r\n      isLogin: false,\r\n      user: {},\r\n      collection: []\r\n    }\r\n  },\r\n  watch: {\r\n    isLogin (newValue) {\r\n      if (newValue) { this.getCollection() }\r\n    }\r\n  },\r\n  methods: {\r\n    getCollection () {\r\n      fetch('https://kotokawa-akira-mywife.site/web/api/collection/getCollectionByUid/' + this.user.id, { method: 'get' })\r\n        .then(res => {\r\n          return res.json()\r\n        }).then(data => {\r\n          this.collection = data\r\n        })\r\n    },\r\n    getLoginInfo () {\r\n      fetch('https://kotokawa-akira-mywife.site/web/api/account/getLoginInfo', { method: 'get', credentials: 'include' })\r\n        .then(res => {\r\n          return res.json()\r\n        }).then(data => {\r\n          if (data.success === 'true') {\r\n            fetch('https://kotokawa-akira-mywife.site/web/api/account/selectOneById/' + data.uid, { method: 'get' })\r\n              .then(res => {\r\n                return res.json()\r\n              }).then(data => {\r\n                this.user = data\r\n                this.isLogin = true\r\n              })\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getLoginInfo()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n:root {\r\n  --ava: #9AC8E2;\r\n  --line_regular: #E3E5E7;\r\n  --bg_regular: #F1F2F3;\r\n}\r\n\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n}\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n  -webkit-tap-highlight-color: transparent;\r\n}\r\n\r\nimg {\r\n  display: block;\r\n}\r\n\r\na {\r\n  color: unset;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n"],"mappings":";;;;6DACEA,YAAA,CAA6BC,uBAAA,GAC7BD,YAAA,CAAwEE,mBAAA;IAA9DC,OAAO,EAAC,MAAI;IAAEC,IAAI,EAAEC,KAAA,CAAAD,IAAI;IAAGE,UAAU,EAAED,KAAA,CAAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}